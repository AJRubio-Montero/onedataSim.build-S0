version: "3.6"

services:
  onedatasim-testing:
    image: "indigodatacloud/ci-images:python3.6"
    container_name: "onedatasim-testing"
    volumes:
     - type: bind
       source: ./onedatasim
       target: /onedatasim-repo
    #command: sleep 3600

# Temporaly disabled due to onedata token
  onedatasim-build:
    build:
      context: "."
      dockerfile: "./Dockerfile"
    environment:
     - ONECLIENT_ACCESS_TOKEN_TO_BUILD="MDAxY2xvY2F00aW9uIGRhdGFodWIuZWdpLmV1CjAwNmJpZGVudGlmaWVyIDIvbm1kL3Vzci005NDJiOTYwZTBlN2RkMzhiNzI3M2JiMzVkMDMwNzYxMWNoN2RkMy9hY3QvZmJlYjVhMDY2ZWU5NzE3ZGZhM2EwN2Y4MmU3MDU1MmZjaDU2YzEKMDA00OWNpZCBkYXRhLnBhdGggPSBMelF4TUdNM009URXpOMkkwTTJJeE5qSXdOVGhqWVdGaU5qYzFaRGc00T1RSbFkyaGxaV1EwCjAwMmZzaWduYXR1cmUgWg4lzTJWqfCd5o8zPMrIwc00DzSiJXkuVetrFjpD6xTAK"
     - ONECLIENT_PROVIDER_HOST_TO_BUILD="https://mon01-tic.ciemat.es"
#    #image: "lagoproject/onedatasim:latest" # image could be at DockerHub (under consideration)
#    #command: sleep 3600
